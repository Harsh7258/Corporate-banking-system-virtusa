<div class="create-client-container">
  
  <!-- Page Header -->
  <div class="page-header">
    <mat-icon class="header-icon">person_add</mat-icon>
    <div>
      <h1>Create New Client</h1>
      <p>Add a new client to your portfolio</p>
    </div>
  </div>

  <!-- Form Card -->
  <mat-card class="form-card">
    <form [formGroup]="clientForm" (ngSubmit)="onSubmit()">
      
      <!-- Company Information Section -->
      <div class="form-section">
        <h3 class="section-title">
          <mat-icon>business</mat-icon>
          Company Information
        </h3>

        <div class="form-row">
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Company Name</mat-label>
            <input matInput formControlName="companyName" placeholder="Enter company name" />
            <mat-icon matPrefix>business</mat-icon>
            <mat-error *ngIf="companyName?.hasError('required')">
              Company name is required
            </mat-error>
            <mat-error *ngIf="companyName?.hasError('minlength')">
              Company name must be at least 3 characters
            </mat-error>
          </mat-form-field>
        </div>

        <div class="form-row">
          <mat-form-field appearance="outline" class="half-width">
            <mat-label>Industry</mat-label>
            <input matInput formControlName="industry" placeholder="e.g., Software, Manufacturing" />
            <mat-icon matPrefix>category</mat-icon>
            <mat-error *ngIf="industry?.hasError('required')">
              Industry is required
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline" class="half-width">
            <mat-label>Annual Turnover (in Millions)</mat-label>
            <input matInput type="number" formControlName="annualTurnover" placeholder="0.00" />
            <mat-icon matPrefix>account_balance_wallet</mat-icon>
            <span matSuffix>M</span>
            <mat-error *ngIf="annualTurnover?.hasError('required')">
              Turnover is required
            </mat-error>
            <mat-error *ngIf="annualTurnover?.hasError('min')">
              Turnover must be positive
            </mat-error>
          </mat-form-field>
        </div>

        <div class="form-row">
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Address</mat-label>
            <textarea 
              matInput 
              formControlName="address" 
              rows="3"
              placeholder="Enter complete address"
            ></textarea>
            <mat-icon matPrefix>location_on</mat-icon>
            <mat-error *ngIf="address?.hasError('required')">
              Address is required
            </mat-error>
            <mat-error *ngIf="address?.hasError('minlength')">
              Address must be at least 10 characters
            </mat-error>
          </mat-form-field>
        </div>
      </div>

      <!-- Primary Contact Section -->
      <div class="form-section">
        <h3 class="section-title">
          <mat-icon>contacts</mat-icon>
          Primary Contact Details
        </h3>

        <div class="form-row">
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Contact Name</mat-label>
            <input matInput formControlName="primaryContactName" placeholder="Enter contact person name" />
            <mat-icon matPrefix>person</mat-icon>
            <mat-error *ngIf="primaryContactName?.hasError('required')">
              Contact name is required
            </mat-error>
          </mat-form-field>
        </div>

        <div class="form-row">
          <mat-form-field appearance="outline" class="half-width">
            <mat-label>Email</mat-label>
            <input matInput type="email" formControlName="primaryContactEmail" placeholder="email@example.com" />
            <mat-icon matPrefix>email</mat-icon>
            <mat-error *ngIf="primaryContactEmail?.hasError('required')">
              Email is required
            </mat-error>
            <mat-error *ngIf="primaryContactEmail?.hasError('email')">
              Please enter a valid email
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline" class="half-width">
            <mat-label>Phone</mat-label>
            <input matInput formControlName="primaryContactPhone" placeholder="10-digit phone number" />
            <mat-icon matPrefix>phone</mat-icon>
            <mat-error *ngIf="primaryContactPhone?.hasError('required')">
              Phone is required
            </mat-error>
            <mat-error *ngIf="primaryContactPhone?.hasError('pattern')">
              Phone must be exactly 10 digits
            </mat-error>
          </mat-form-field>
        </div>
      </div>

      <!-- Documents Section -->
      <div class="form-section">
        <h3 class="section-title">
          <mat-icon>description</mat-icon>
          Documents
        </h3>

        <div class="toggle-container">
          <mat-slide-toggle formControlName="documentsSubmitted" color="primary">
            Documents Submitted
          </mat-slide-toggle>
          <p class="toggle-hint">Toggle if all required documents are submitted</p>
        </div>
      </div>

      <!-- Form Actions -->
      <div class="form-actions">
        <button 
          type="button" 
          mat-stroked-button 
          class="reset-btn"
          (click)="resetForm()"
          [disabled]="loading">
          <mat-icon>refresh</mat-icon>
          Reset
        </button>
        <button 
          type="submit" 
          mat-raised-button 
          color="primary"
          class="submit-btn"
          [disabled]="loading || clientForm.invalid">
          <span *ngIf="!loading">
            <mat-icon>check_circle</mat-icon>
            Create Client
          </span>
          <span *ngIf="loading" class="loading-text">
            <span class="spinner-small"></span>
            Creating...
          </span>
        </button>
      </div>

    </form>
  </mat-card>

</div>
